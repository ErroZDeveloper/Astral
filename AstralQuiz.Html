<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Quiz de Astronomia Aleat√≥rio</title>
<style>
body { font-family: Arial, sans-serif; background: linear-gradient(to right,#0f2027,#203a43,#2c5364); color:#fff; display:flex; justify-content:center; align-items:center; min-height:100vh; margin:0;}
#quizContainer { background: rgba(255,255,255,0.05); padding:30px; border-radius:20px; width:800px; max-width:95%; box-shadow:0 8px 20px rgba(0,0,0,0.5);}
h1 { text-align:center; color:#ffdd59; margin-bottom:20px;}
button { padding:10px 20px; margin-top:10px; cursor:pointer; border:none; border-radius:8px; background:#ffdd59; color:#222; font-weight:bold; transition:0.3s; }
button:hover { background:#ffd633; }
#options button { display:block; width:100%; margin:8px 0; text-align:left; }
input[type="text"] { padding:10px; width:100%; border-radius:8px; border:none; margin-top:5px; }
textarea { width:100%; height:200px; margin-top:10px; border-radius:8px; border:none; padding:10px; }
#progress { font-weight:bold; }
</style>
</head>
<body>
<div id="quizContainer">
<h1>Quiz de Astronomia üåå</h1>

<div id="nameInputDiv">
<p>Digite seu nome:</p>
<input type="text" id="playerName" placeholder="Seu nome">
<button onclick="startQuiz()">Come√ßar</button>
</div>

<div id="questionDiv" style="display:none;">
<h2 id="questionText"></h2>
<div id="options"></div>
<p id="progress" style="text-align:center;margin-top:10px;"></p>
</div>

<div id="resultDiv" style="display:none;">
<h2>Resultados</h2>
<p id="scoreText"></p>
<p id="wrongText"></p>
<h3>Gabarito completo:</h3>
<textarea id="answerKey" readonly></textarea>
<button onclick="downloadResults()">Baixar Resultados</button>
</div>

<script>
// =======================
// Banco de 100 perguntas √∫nicas baseadas nos t√≥picos fornecidos
const bank = [
{"q":"Qual √© o planeta mais pr√≥ximo do Sol?","options":["Merc√∫rio","V√™nus","Terra","Marte"],"answer":"Merc√∫rio"},
{"q":"Qual planeta an√£o foi reclassificado em 2006 pela IAU?","options":["Plut√£o","Ceres","Eris","Haumea"],"answer":"Plut√£o"},
{"q":"Qual exoplaneta descoberto orbitando Proxima Centauri √© potencialmente habit√°vel?","options":["Proxima b","Kepler-22b","TRAPPIST-1d","HD 209458 b"],"answer":"Proxima b"},
{"q":"Qual √© o maior asteroide do cintur√£o principal?","options":["Ceres","Vesta","Pallas","Hygiea"],"answer":"Ceres"},
{"q":"Qual cometa tem uma √≥rbita de aproximadamente 76 anos e √© muito famoso?","options":["Halley","Hale-Bopp","Encke","Tempel 1"],"answer":"Halley"},
{"q":"O que s√£o meteoros?","options":["Estrelas cadentes","Fragmentos de asteroides","Planetas pequenos","Sat√©lites naturais"],"answer":"Estrelas cadentes"},
{"q":"O que √© um meteorito?","options":["Fragmento que chega √† Terra","Cometa que passa perto","Planeta an√£o","Asteroide em √≥rbita"],"answer":"Fragmento que chega √† Terra"},
{"q":"Qual √© a estrela mais pr√≥xima al√©m do Sol?","options":["Proxima Centauri","Sirius","Betelgeuse","Vega"],"answer":"Proxima Centauri"},
{"q":"O que s√£o estrelas bin√°rias?","options":["Duas estrelas orbitando-se","Estrelas duplas colapsadas","Estrelas com planetas","Estrelas vari√°veis"],"answer":"Duas estrelas orbitando-se"},
{"q":"O que s√£o estrelas vari√°veis?","options":["Estrelas que mudam de brilho","Estrelas com planetas","Supernovas","Estrelas antigas"],"answer":"Estrelas que mudam de brilho"},
{"q":"O que √© uma an√£ branca?","options":["Estrela em est√°gio final","Estrela jovem","Buraco negro","Planeta"],"answer":"Estrela em est√°gio final"},
{"q":"O que √© uma an√£ vermelha?","options":["Estrela pequena e fria","Estrela gigante","Supernova","Cometa"],"answer":"Estrela pequena e fria"},
{"q":"O que s√£o gigantes vermelhas?","options":["Estrelas envelhecidas e grandes","Estrelas jovens","Estrelas bin√°rias","Asteroides"],"answer":"Estrelas envelhecidas e grandes"},
{"q":"O que s√£o gigantes azuis?","options":["Estrelas muito massivas e quentes","Planetas gasosos","An√£s brancas","Buracos negros"],"answer":"Estrelas muito massivas e quentes"},
{"q":"O que s√£o supergigantes?","options":["Estrelas enormes e luminosas","Estrelas m√©dias","Planetas an√µes","Asteroides"],"answer":"Estrelas enormes e luminosas"},
{"q":"O que √© um buraco negro?","options":["Objeto com gravidade extrema","Estrela gigante","Gal√°xia pequena","Planeta gasoso"],"answer":"Objeto com gravidade extrema"},
{"q":"O que √© um buraco de verme?","options":["Atalho no espa√ßo-tempo","Estrela vari√°vel","Exoplaneta","Cometa"],"answer":"Atalho no espa√ßo-tempo"},
{"q":"O que s√£o quasares?","options":["N√∫cleos gal√°cticos ativos","Estrelas jovens","Buracos brancos","Planetas massivos"],"answer":"N√∫cleos gal√°cticos ativos"},
{"q":"O que s√£o pulsars?","options":["Estrelas de n√™utrons girando rapidamente","Estrelas bin√°rias","Cometas","Aglomerados estelares"],"answer":"Estrelas de n√™utrons girando rapidamente"},
{"q":"O que s√£o nebulosas?","options":["Nuvens de g√°s e poeira no espa√ßo","Planetas gasosos","Estrelas velhas","Exoplanetas"],"answer":"Nuvens de g√°s e poeira no espa√ßo"},
{"q":"Qual √© a nebulosa de √ìrion?","options":["M42","M31","M13","M1"],"answer":"M42"},
{"q":"Qual √© a nebulosa de Carina?","options":["NGC 3372","M42","M13","NGC 1976"],"answer":"NGC 3372"},
{"q":"Qual √© a nebulosa Tr√≠fida?","options":["M20","M42","NGC 1976","M31"],"answer":"M20"},
{"q":"Qual gal√°xia cont√©m o Sistema Solar?","options":["Via L√°ctea","Andr√¥meda","Tri√¢ngulo","Sombrero"],"answer":"Via L√°ctea"},
{"q":"Qual gal√°xia vizinha mais pr√≥xima da Via L√°ctea?","options":["Andr√¥meda","Tri√¢ngulo","Sombrero","C√≠rculo"],"answer":"Andr√¥meda"},
{"q":"Qual √© a gal√°xia do Tri√¢ngulo?","options":["M33","M31","M87","NGC 1300"],"answer":"M33"},
{"q":"Qual √© a gal√°xia do Sombrero?","options":["M104","M31","M33","M87"],"answer":"M104"},
{"q":"O que √© radia√ß√£o c√≥smica de fundo?","options":["Radia√ß√£o remanescente do Big Bang","Luz de estrelas pr√≥ximas","Raios X","Radia√ß√£o de quasares"],"answer":"Radia√ß√£o remanescente do Big Bang"},
{"q":"O que √© mat√©ria escura?","options":["Mat√©ria invis√≠vel que influencia gravidade","Planetas n√£o vis√≠veis","Cometas distantes","Estrelas apagadas"],"answer":"Mat√©ria invis√≠vel que influencia gravidade"},
{"q":"O que √© energia escura?","options":["For√ßa que acelera a expans√£o do universo","Luz de estrelas distantes","Gravidade de gal√°xias","Raios c√≥smicos"],"answer":"For√ßa que acelera a expans√£o do universo"},
{"q":"O que s√£o exosferas?","options":["Camada externa da atmosfera de planetas","Superf√≠cie de estrelas","Gal√°xias pr√≥ximas","Aglomerados de estrelas"],"answer":"Camada externa da atmosfera de planetas"},
{"q":"O que s√£o telesc√≥pios espaciais?","options":["Instrumentos no espa√ßo para observar o universo","Telesc√≥pios terrestres","Sat√©lites de comunica√ß√£o","Cometas artificiais"],"answer":"Instrumentos no espa√ßo para observar o universo"},
{"q":"O que s√£o miss√µes espaciais?","options":["Explora√ß√£o do espa√ßo por sondas ou humanos","Estudos de meteoritos","Observa√ß√£o de cometas","Aglomerados globulares"],"answer":"Explora√ß√£o do espa√ßo por sondas ou humanos"},
{"q":"O que s√£o √≥rbitas el√≠pticas?","options":["√ìrbitas em forma de elipse","√ìrbitas circulares perfeitas","Trajet√≥rias de cometas","Movimentos de gal√°xias"],"answer":"√ìrbitas em forma de elipse"},
{"q":"O que √© o cintur√£o de asteroides?","options":["Regi√£o entre Marte e J√∫piter com asteroides","Regi√£o do Sistema Solar externo","√ìrbita da Terra","Nuvem de Oort"],"answer":"Regi√£o entre Marte e J√∫piter com asteroides"},
{"q":"O que √© o cintur√£o de Kuiper?","options":["Regi√£o al√©m de Netuno com objetos gelados","Cintur√£o de planetas","√ìrbita do Sol","Estrelas pr√≥ximas"],"answer":"Regi√£o al√©m de Netuno com objetos gelados"},
{"q":"O que √© a Nuvem de Oort?","options":["Regi√£o distante com cometas","Gal√°xia pr√≥xima","Cintur√£o de asteroides","Planeta an√£o"],"answer":"Regi√£o distante com cometas"},
{"q":"O que s√£o atmosferas planet√°rias?","options":["Camadas gasosas ao redor dos planetas","Superf√≠cies planet√°rias","N√∫cleos planet√°rios","Cintur√µes de cometas"],"answer":"Camadas gasosas ao redor dos planetas"},
{"q":"O que √© rota√ß√£o planet√°ria?","options":["Movimento em torno do pr√≥prio eixo","Movimento em torno do Sol","Movimento de sat√©lites","Trajet√≥ria de meteoros"],"answer":"Movimento em torno do pr√≥prio eixo"},
{"q":"O que √© transla√ß√£o planet√°ria?","options":["Movimento em torno do Sol","Movimento em torno do eixo","Movimento de estrelas","Forma√ß√£o de gal√°xias"],"answer":"Movimento em torno do Sol"},
{"q":"O que s√£o eclipses solares?","options":["Lua entre Sol e Terra","Terra entre Sol e Lua","Sol escondido por planeta","Cometa entre Sol e Terra"],"answer":"Lua entre Sol e Terra"},
{"q":"O que s√£o eclipses lunares?","options":["Terra entre Sol e Lua","Lua entre Sol e Terra","Terra entre Lua e Marte","Lua escondida por planeta"],"answer":"Terra entre Sol e Lua"},
{"q":"O que s√£o mar√©s?","options":["Varia√ß√£o do n√≠vel do mar causada pela Lua e Sol","Ondas normais","Correntes oce√¢nicas","Tempestades"],"answer":"Varia√ß√£o do n√≠vel do mar causada pela Lua e Sol"},
{"q":"O que √© aurora boreal?","options":["Luzes no c√©u do hemisf√©rio norte","Luzes no c√©u do hemisf√©rio sul","Cometa brilhante","Explos√£o solar"],"answer":"Luzes no c√©u do hemisf√©rio norte"},
{"q":"O que √© aurora austral?","options":["Luzes no c√©u do hemisf√©rio sul","Luzes no c√©u do hemisf√©rio norte","Cometa brilhante","Explos√£o solar"],"answer":"Luzes no c√©u do hemisf√©rio sul"},
{"q":"O que s√£o planetas gasosos?","options":["J√∫piter, Saturno, Urano, Netuno","Merc√∫rio e V√™nus","Marte e Terra","Plut√£o e Ceres"],"answer":"J√∫piter, Saturno, Urano, Netuno"},
{"q":"O que s√£o planetas rochosos?","options":["Merc√∫rio, V√™nus, Terra, Marte","J√∫piter e Saturno","Urano e Netuno","Plut√£o e Haumea"],"answer":"Merc√∫rio, V√™nus, Terra, Marte"},
{"q":"O que s√£o eventos de tr√¢nsito planet√°rio?","options":["Planeta passa na frente da estrela","Planeta se move r√°pido","Cometa cruzando o Sol","Eclipse lunar"],"answer":"Planeta passa na frente da estrela"},
{"q":"O que s√£o estrelas supernovas?","options":["Estrelas que explodem no fim da vida","Estrelas jovens","Estrelas bin√°rias","An√£s brancas"],"answer":"Estrelas que explodem no fim da vida"},
{"q":"O que √© supernova tipo Ia?","options":["Explos√£o de an√£ branca em sistema bin√°rio","Explos√£o de gigante azul","Explos√£o de estrela jovem","Explos√£o de estrela de n√™utrons"],"answer":"Explos√£o de an√£ branca em sistema bin√°rio"},
{"q":"O que √© supernova tipo II?","options":["Explos√£o de estrela massiva","Explos√£o de an√£ branca","Explos√£o de estrela bin√°ria","Explos√£o de planeta"],"answer":"Explos√£o de estrela massiva"},
{"q":"O que s√£o estrelas de n√™utrons?","options":["Res√≠duo compacto de supernova","Estrela gigante","Planeta gasoso","Cometa"],"answer":"Res√≠duo compacto de supernova"},
{"q":"O que s√£o buracos negros estelares?","options":["Formados a partir de estrelas massivas","Pequenos planetas","Estrelas bin√°rias","Estrelas jovens"],"answer":"Formados a partir de estrelas massivas"},
{"q":"O que s√£o buracos negros supermassivos?","options":["No centro de gal√°xias","Pequenas estrelas","Planetas gigantes","Cometas"],"answer":"No centro de gal√°xias"},
{"q":"O que s√£o aglomerados estelares abertos?","options":["Estrelas jovens agrupadas","Estrelas isoladas","Buracos negros","Cometas"],"answer":"Estrelas jovens agrupadas"},
{"q":"O que s√£o aglomerados globulares?","options":["Estrelas antigas e densas","Estrelas novas","Planetas","Nebulosas"],"answer":"Estrelas antigas e densas"},
{"q":"O que s√£o an√©is planet√°rios?","options":["Estruturas em torno de planetas gasosos","An√©is de sat√©lites","Asteroides","Gal√°xias"],"answer":"Estruturas em torno de planetas gasosos"},
{"q":"O que √© magnetosfera?","options":["Campo magn√©tico ao redor de planetas","Campo magn√©tico de estrelas","Buraco negro","Planeta gasoso"],"answer":"Campo magn√©tico ao redor de planetas"},
{"q":"O que √© cromosfera?","options":["Camada da atmosfera solar","N√∫cleo da Terra","Planeta an√£o","Buraco negro"],"answer":"Camada da atmosfera solar"},
{"q":"O que √© fotosfera?","options":["Superf√≠cie vis√≠vel do Sol","Camada de Marte","Estrela de n√™utrons","Nebulosa"],"answer":"Superf√≠cie vis√≠vel do Sol"},
{"q":"O que √© coroa solar?","options":["Camada externa do Sol","Camada interna da Terra","Buraco negro","Gal√°xia"],"answer":"Camada externa do Sol"},
{"q":"O que s√£o protostrelas?","options":["Estrelas em forma√ß√£o","Estrelas antigas","Planetas gasosos","Buracos negros"],"answer":"Estrelas em forma√ß√£o"},
{"q":"O que s√£o estrelas T Tauri?","options":["Estrelas jovens vari√°veis","Estrelas antigas","Supernovas","Buracos negros"],"answer":"Estrelas jovens vari√°veis"},
{"q":"O que s√£o estrelas Herbig Ae/Be?","options":["Estrelas jovens massivas","Estrelas velhas","Planetas gasosos","Buracos negros"],"answer":"Estrelas jovens massivas"},
{"q":"O que s√£o regi√µes H II?","options":["Nuvens ionizadas de hidrog√™nio","Planetas gasosos","Estrelas antigas","Cometas"],"answer":"Nuvens ionizadas de hidrog√™nio"},
{"q":"O que s√£o nebulosas planet√°rias?","options":["G√°s expelido por estrelas no fim da vida","Planetas em forma√ß√£o","Cometas","Buracos negros"],"answer":"G√°s expelido por estrelas no fim da vida"},
{"q":"O que s√£o nebulosas de reflex√£o?","options":["Refletem luz de estrelas pr√≥ximas","Emitam radia√ß√£o pr√≥pria","Planetas gasosos","Buracos negros"],"answer":"Refletem luz de estrelas pr√≥ximas"},
{"q":"O que s√£o nebulosas de emiss√£o?","options":["Emitem luz pr√≥pria por ioniza√ß√£o","Refletem luz de outras estrelas","Estrelas jovens","Cometas"],"answer":"Emitem luz pr√≥pria por ioniza√ß√£o"},
{"q":"O que s√£o nebulosas escuras?","options":["Nuvens que bloqueiam a luz de fundo","Emitem radia√ß√£o X","Estrelas velhas","Planetas"],"answer":"Nuvens que bloqueiam a luz de fundo"},
{"q":"O que s√£o estrelas hipergigantes?","options":["Estrelas extremamente massivas e luminosas","Estrelas pequenas","Planetas gasosos","Buracos negros"],"answer":"Estrelas extremamente massivas e luminosas"},
{"q":"O que s√£o estrelas Wolf-Rayet?","options":["Estrelas massivas com fortes ventos estelares","Estrelas pequenas","Planetas","Nebulosas"],"answer":"Estrelas massivas com fortes ventos estelares"},
{"q":"O que √© lente gravitacional?","options":["Desvio da luz por gravidade","Refra√ß√£o atmosf√©rica","Buraco negro","Estrela gigante"],"answer":"Desvio da luz por gravidade"},
{"q":"O que s√£o microlentes gravitacionais?","options":["Pequeno desvio de luz por objetos massivos","Refra√ß√£o atmosf√©rica","Estrelas velhas","Planetas"],"answer":"Pequeno desvio de luz por objetos massivos"},
{"q":"O que s√£o quasares de r√°dio?","options":["Quasares que emitem fortes ondas de r√°dio","Estrelas jovens","Buracos negros pequenos","Planetas gasosos"],"answer":"Quasares que emitem fortes ondas de r√°dio"},
{"q":"O que s√£o gal√°xias el√≠pticas?","options":["Gal√°xias com formato el√≠ptico","Gal√°xias espirais","Gal√°xias irregulares","Gal√°xias lenticulares"],"answer":"Gal√°xias com formato el√≠ptico"},
{"q":"O que s√£o gal√°xias espirais?","options":["Gal√°xias em forma de disco com bra√ßos","Gal√°xias el√≠pticas","Irregulares","Lenticulares"],"answer":"Gal√°xias em forma de disco com bra√ßos"},
{"q":"O que s√£o gal√°xias irregulares?","options":["Gal√°xias sem forma definida","El√≠pticas","Espirais","Lenticulares"],"answer":"Gal√°xias sem forma definida"},
{"q":"O que s√£o gal√°xias lenticulares?","options":["Gal√°xias intermedi√°rias entre espirais e el√≠pticas","Espirais","El√≠pticas","Irregulares"],"answer":"Gal√°xias intermedi√°rias entre espirais e el√≠pticas"},
{"q":"O que s√£o filamentos c√≥smicos?","options":["Grandes estruturas de mat√©ria no universo","Estrelas jovens","Planetas gasosos","Buracos negros"],"answer":"Grandes estruturas de mat√©ria no universo"},
{"q":"O que √© v√°cuo intergal√°ctico?","options":["Regi√£o quase sem mat√©ria entre gal√°xias","Gal√°xias distantes","Nebulosas","Planetas"],"answer":"Regi√£o quase sem mat√©ria entre gal√°xias"},
{"q":"O que √© radia√ß√£o ultravioleta?","options":["Luz invis√≠vel de alta energia","Luz vis√≠vel","Raios X","Radia√ß√£o gama"],"answer":"Luz invis√≠vel de alta energia"},
{"q":"O que √© radia√ß√£o infravermelha?","options":["Radia√ß√£o t√©rmica","Luz vis√≠vel","Raios X","Radia√ß√£o gama"],"answer":"Radia√ß√£o t√©rmica"},
{"q":"O que √© radia√ß√£o X?","options":["Radia√ß√£o de alta energia","Luz vis√≠vel","Infravermelho","Ultravioleta"],"answer":"Radia√ß√£o de alta energia"},
{"q":"O que √© radia√ß√£o gama?","options":["Radia√ß√£o mais energ√©tica","Radia√ß√£o de baixa energia","Luz vis√≠vel","Infravermelho"],"answer":"Radia√ß√£o mais energ√©tica"},
{"q":"O que s√£o jets relativ√≠sticos?","options":["Fluxos de part√≠culas pr√≥ximos √† velocidade da luz","Ventos solares","Planetas gasosos","Buracos negros pequenos"],"answer":"Fluxos de part√≠culas pr√≥ximos √† velocidade da luz"},
{"q":"O que s√£o magnetars?","options":["Estrelas de n√™utrons com campo magn√©tico extremo","Planetas gasosos","Estrelas jovens","Cometas"],"answer":"Estrelas de n√™utrons com campo magn√©tico extremo"},
{"q":"O que s√£o raios c√≥smicos?","options":["Part√≠culas de alta energia vindas do espa√ßo","Luz vis√≠vel","Raios X","Ondas de r√°dio"],"answer":"Part√≠culas de alta energia vindas do espa√ßo"},
{"q":"O que s√£o buracos brancos (hipot√©ticos)?","options":["Objetos te√≥ricos que expulsam mat√©ria","Buracos negros","Estrelas jovens","Planetas"],"answer":"Objetos te√≥ricos que expulsam mat√©ria"},
{"q":"O que √© mat√©ria bari√¥nica?","options":["Mat√©ria comum composta por pr√≥tons e n√™utrons","Mat√©ria escura","Energia escura","Radia√ß√£o c√≥smica"],"answer":"Mat√©ria comum composta por pr√≥tons e n√™utrons"},
{"q":"O que √© mat√©ria n√£o bari√¥nica?","options":["Mat√©ria escura","Mat√©ria comum","Planetas","Estrelas"],"answer":"Mat√©ria escura"},
{"q":"O que s√£o protuber√¢ncias solares?","options":["Erup√ß√µes de plasma do Sol","Manchas solares","Cometas","Planetas"],"answer":"Erup√ß√µes de plasma do Sol"},
{"q":"O que s√£o manchas solares?","options":["√Åreas escuras na fotosfera do Sol","Erup√ß√µes de plasma","Buracos negros","Gal√°xias"],"answer":"√Åreas escuras na fotosfera do Sol"},
{"q":"O que √© ciclo solar?","options":["Per√≠odo de atividade do Sol de cerca de 11 anos","Rota√ß√£o da Terra","√ìrbita de J√∫piter","Transla√ß√£o da Lua"],"answer":"Per√≠odo de atividade do Sol de cerca de 11 anos"},
{"q":"O que √© p√≥ interestelar?","options":["Part√≠culas de poeira no espa√ßo","Cometa","Planeta","Estrela"],"answer":"Part√≠culas de poeira no espa√ßo"},
{"q":"O que √© g√°s intergal√°ctico?","options":["G√°s entre gal√°xias","G√°s em planetas","G√°s em estrelas","G√°s em buracos negros"],"answer":"G√°s entre gal√°xias"},
{"q":"O que √© disco de acre√ß√£o?","options":["Disco de mat√©ria em torno de buracos negros","Planeta gasoso","Estrela jovem","Cometa"],"answer":"Disco de mat√©ria em torno de buracos negros"},
{"q":"O que s√£o fus√µes de gal√°xias?","options":["Quando duas gal√°xias se unem","Colis√£o de estrelas","Forma√ß√£o de planetas","Explos√£o de supernova"],"answer":"Quando duas gal√°xias se unem"},
{"q":"O que √© singularidade gravitacional?","options":["Ponto de densidade infinita em buracos negros","Estrela gigante","Planeta denso","Nebulosa"],"answer":"Ponto de densidade infinita em buracos negros"},
{"q":"O que √© cosmologia?","options":["Estudo do universo como um todo","Estudo de planetas","Estudo de estrelas jovens","Estudo de meteoritos"],"answer":"Estudo do universo como um todo"}
];

// =======================
// Variables
let questions = [];
let currentQuestion = 0;
let score = 0;
let wrongAnswers = [];
let playerName = "";

// =======================
function startQuiz(){
    playerName = document.getElementById("playerName").value.trim();
    if(playerName===""){ alert("Digite seu nome"); return; }
    document.getElementById("nameInputDiv").style.display="none";
    document.getElementById("questionDiv").style.display="block";
    
    // Escolher 50 perguntas aleat√≥rias
    questions = bank.sort(()=>0.5-Math.random()).slice(0,50);
    questions.forEach(q=>q.options = q.options.sort(()=>0.5-Math.random()));
    currentQuestion=0; score=0; wrongAnswers=[];
    showQuestion();
}

// =======================
function showQuestion(){
    if(currentQuestion>=questions.length){
        showResult();
        return;
    }
    const q = questions[currentQuestion];
    document.getElementById("questionText").innerText = q.q;
    const optionsDiv = document.getElementById("options");
    optionsDiv.innerHTML="";
    q.options.forEach(opt=>{
        const btn = document.createElement("button");
        btn.innerText=opt;
        btn.onclick = ()=>checkAnswer(opt);
        optionsDiv.appendChild(btn);
    });
    document.getElementById("progress").innerText = `Pergunta ${currentQuestion+1} de ${questions.length}`;
}

// =======================
function checkAnswer(opt){
    const q = questions[currentQuestion];
    if(opt===q.answer) score++;
    else wrongAnswers.push({num:currentQuestion+1, correct:q.answer});
    currentQuestion++;
    showQuestion();
}

// =======================
function showResult(){
    document.getElementById("questionDiv").style.display="none";
    document.getElementById("resultDiv").style.display="block";
    document.getElementById("scoreText").innerText = `Acertos: ${score}`;
    document.getElementById("wrongText").innerText = `Erros: ${wrongAnswers.length}`;
    
    let gabarito = "";
    questions.forEach((q,i)=> gabarito+=`${i+1} - ${q.answer}\n`);
    document.getElementById("answerKey").value = gabarito;
}

// =======================
function downloadResults(){
    let text = `Nome: ${playerName}\nAcertos: ${score}\nErros: ${wrongAnswers.length}\nErros Detalhados:\n`;
    wrongAnswers.forEach(w=>text+=`Quest√£o ${w.num} - Resposta correta: ${w.correct}\n`);
    text+="\nGabarito completo:\n";
    questions.forEach((q,i)=> text+=`${i+1} - ${q.answer}\n`);
    
    const blob = new Blob([text], {type:"text/plain"});
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = `Resultados_${playerName}.txt`;
    a.click();
    URL.revokeObjectURL(url);
}
</script>
</body>
</html>
